<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Frame Viewer</title>
    <link rel="stylesheet" href="../style.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            overflow: hidden;
        }

        #localcontainer {
            display: flex;
            height: 100%;
            width: 100%;
        }

        #localsidebar {
            width: 500px;
            background: #eee;
            padding: 10px;
            overflow-y: auto;
            box-sizing: border-box;
        }

        #framePlot {
            flex: 1;
            background: #fff;
        }

        input {
            width: 80px;
            margin-right: 8px;
            margin-top: 3px;
            margin-bottom: 3px;
        }

        button {
            margin-right: 8px;
            margin-top: 3px;
            margin-bottom: 3px;
        }

        .outputField {
            width: 100%;
            margin-top: 8px;
            margin-bottom: 5px;
        }

        h3 {
            margin-bottom: 8px;
            margin-top: 15px;
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <a href="../index.html">Home</a>
    </div>

    <div class="content">
        <div id="localcontainer">
            <div id="localsidebar">
                <h2>Frame Viewer</h2>
                This tool visualizes a parent frame (fixed) and a child frame (movable). You can adjust the child
                frame's
                translation and rotation, and view its transformation matrix and pose.

                <h3>Translation</h3>
                <div style="margin-bottom: 8px;">
                    X: <input id="xInput" type="number" value="2" step="0.1"><br>
                    Y: <input id="yInput" type="number" value="1" step="0.1"><br>
                    Z: <input id="zInput" type="number" value="1" step="0.1"><br>
                </div>
                <button type="button" class="btn-generate" onclick="updatePlot()">Update Translation</button>

                <h3>Rotation</h3>
                <div style="margin-bottom: 8px;">
                    Rotation in Δ degrees around each axis by clicking the corresponding button.<br><br>
                    ΔX (deg): <input id="rotXInput" type="number" value="10"><button type="button" class="btn-generate"
                        onclick="rotateChild('x')">Rotate
                    </button><br>
                    ΔY (deg): <input id="rotYInput" type="number" value="10"><button type="button" class="btn-generate"
                        onclick="rotateChild('y')">Rotate
                    </button><br>
                    ΔZ (deg): <input id="rotZInput" type="number" value="10"><button type="button" class="btn-generate"
                        onclick="rotateChild('z')">Rotate
                    </button><br>
                </div>
                <button type="button" class="btn-generate" onclick="resetRotation()">Reset Rotation</button>

                <h3>Matrix & Pose</h3>
                <div style="margin-bottom: 8px;">
                    Show the child frame's 4x4 transformation matrix [row major format] and pose [x,y,z,qx,qy,qz,qw].<br>
                </div>
                <button type="button" class="btn-generate" onclick="showMatrix()">Show</button><br>
                <input type="text" id="matrixOutput" class="outputField" readonly placeholder="4x4 Matrix">
                <input type="text" id="poseOutput" class="outputField" readonly placeholder="[x,y,z,qx,qy,qz,qw]">
            </div>
            <div id="framePlot"></div>
        </div>

        <script src="frame_viewer.js"></script>
    </div>
</body>

</html>